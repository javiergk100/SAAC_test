<context>
    <pattern name="Pagos" value="(pagar*|pago*|importe*|debo*)"/> <!-- A general pattern -->
    <pattern name="Saludos" value="(hola*|buenas*|mba'eichapa*|mba'eteko*)"/> <!-- A general pattern -->
    <pattern name="Condiciones" value="(cuando*|cuanto*|donde*|en que*)"/> <!-- A general pattern -->
    <pattern name="City" value="(asuncion|limpio|sajonia|lambare)"/> <!-- ciudad -->

    <input pattern="(hi|hello|$Saludos) *">
        <!-- Greet the user if we know his/her name -->
        <output value="Hello $UserName!" if="full($UserName)"/>

        <!-- Or activate an inner context to ask the user about his/her name -->
        <context if="empty($UserName)" modal="true"> <!-- We use a modal context, so our bot will recognize any text as the user’s name -->
            <output value="Hi! What is your name?"/>

            <input pattern="$Text">
                <!-- Store the user’s name in the UserName variable with "user" scope to save it into database -->
                <var name="UserName" value="$Text" scope="user"/>
                <output value="Nice to meet you, $UserName!"/> <!-- Using the placeholder in output -->
            </input>
        </context>
    </input>
    
    <input pattern="(quiero|sabes) * $Condiciones * $Pagos *">
        <!-- Store the user’s name in the UserName variable with "user" scope to save it into database -->
        <output value="voy a verificarlo un momento"/> <!-- Using the placeholder in output -->
    </input>
    
    <input pattern="* (weather|forecast) * [$Date] *">
      <!-- If we don’t know where is our user from, we need to ask about that -->
      <context if="empty($UserCity)">
        <output value="Where are you from?"/>
        <input pattern="$City">
          <context id="weather"/> <!-- Jump to the "weather" context now -->
        </input>
      </context>

      <context id="weather">
        <!-- Does some weather gathering stuff -->
        <output value="Hmm parece que va llover"/> 
      </context>
    </input>
</context> <!-- main context end -->
